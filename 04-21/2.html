<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="1.css">
</head>

<body>
    <box id="box"></box>
    <script>
        let box = document.querySelector('#box');
        /* function move(ele, attr, duration, target) {
            let start = parseFloat(getComputedStyle(ele)[attr]);
            let speed = (target - start) / duration;//移动的路程/移动的时间=移动的速度
            let time = 0;
            let timer = setInterval(() => {
                time += 10;//定时器每执行一次，相当于已经运动了10ms，所以时间要加10ms
                if (time > duration) {
                    time = duration;
                    clearInterval(timer);
                }
                ele.style[attr] = time * speed + start + 'px';
            }, 10);
        } */
        function move(ele, attr, duration, target) {
            let start = parseFloat(getComputedStyle(ele)[attr]);
            let step = (target - start) / (duration / 10);//步长（定时器每执行一次移动的距离）=需要移动的距离/定时器需要执行的次数（总时间/每隔多久执行一次）
            let count = 0;//count代表定时器执行的次数
            let timer = setInterval(() => {
                count += 1;
                if (count > duration / 10) {
                    count = duration / 10;
                    clearInterval(timer);
                }
                ele.style[attr] = count * step + start + 'px';
            }, 10);
        }
        move(box, 'left', 1000, 500);
        move(box, 'opacity', 500, 0.5);
    </script>
</body>

</html>